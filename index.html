<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Lottie Converter Test</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.12.0/lottie.min.js"></script>
<style>

    body {

      background-color: #121212;

      color: white;

      font-family: sans-serif;

      display: flex;

      flex-direction: column;

      align-items: center;

      justify-content: center;

      height: 100vh;

      margin: 0;

    }

    #lottie {

      width: 300px;

      height: 300px;

      background: white;

      border-radius: 12px;

    }

    h1 {

      margin-bottom: 20px;

    }
</style>
</head>
<script>
 window.addEventListener('message', (event) => {
   try {
     const data = JSON.parse(event.data);
     if (data.v && data.layers) {
       // Valid Lottie animation
       lottie.loadAnimation({
         container: document.getElementById('lottie'),
         renderer: 'svg',
         loop: true,
         autoplay: true,
         animationData: data,
       });
     } else {
       console.warn('Invalid Lottie data:', data);
     }
   } catch (e) {
     console.error('Failed to parse message as JSON:', e);
   }
 }, false);
</script> <body>
<h1>Lottie Converter Test</h1>
<div id="lottie"></div>
<script>

    window.addEventListener("message", function (event) {

      const data = event.data;

      if (data && typeof data === "object" && data.v) {

        try {

          lottie.loadAnimation({

            container: document.getElementById("lottie"),

            renderer: "svg",

            loop: true,

            autoplay: true,

            animationData: data

          });

          console.log("✅ Lottie animation loaded via postMessage");

        } catch (error) {

          console.error("❌ Error loading Lottie animation:", error);

        }

      } else {

        console.warn("⚠️ Invalid Lottie data received via postMessage");

      }

    });
</script>
<script>
 window.addEventListener('message', (event) => {
   try {
     const data = JSON.parse(event.data);
     if (data.v && data.layers) {
       // Valid Lottie animation
       lottie.loadAnimation({
         container: document.getElementById('lottie'),
         renderer: 'svg',
         loop: true,
         autoplay: true,
         animationData: data,
       });
     } else {
       console.warn('Invalid Lottie data:', data);
     }
   } catch (e) {
     console.error('Failed to parse message as JSON:', e);
   }
 }, false);
</script></body>
</html>
 
