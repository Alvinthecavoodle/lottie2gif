<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lottie2GIF Converter | Convert Lottie JSON to GIF Online</title>
  
  <!-- SEO Meta Tags -->
  <meta name="description" content="Free online tool to convert Lottie JSON animations to GIF format. No installation required, easy to use, and supports high-quality conversion.">
  <meta name="keywords" content="lottie, gif, converter, animation, json to gif, lottie animation, web animation, animation converter">
  <meta name="author" content="Lottie2GIF">
  
  <!-- Open Graph / Social Media Meta Tags -->
  <meta property="og:title" content="Lottie2GIF Converter | Convert Lottie JSON to GIF Online">
  <meta property="og:description" content="Free online tool to convert Lottie JSON animations to GIF format. No installation required, easy to use, and supports high-quality conversion.">
  <meta property="og:url" content="https://lilas-dev.github.io/lottie2gif">
  <meta property="og:type" content="website">
  
  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Lottie2GIF Converter | Convert Lottie JSON to GIF Online">
  <meta name="twitter:description" content="Free online tool to convert Lottie JSON animations to GIF format. No installation required, easy to use, and supports high-quality conversion.">
  
  <!-- Scripts and Styles -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="./vendor/gif.js"></script>
  
  <!-- Structured Data for Rich Results -->
  <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Lottie2GIF Converter",
      "url": "https://lilas-dev.github.io/lottie2gif",
      "description": "Free online tool to convert Lottie JSON animations to GIF format",
      "applicationCategory": "MultimediaApplication",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    }
  </script>
</head>
<body class="bg-gray-50 min-h-screen">
  <div class="max-w-4xl mx-auto p-4">
    <!-- Header -->
    <header class="mb-8 pt-6">
      <h1 class="text-3xl font-bold text-center text-indigo-600">Lottie2GIF Converter</h1>
      <p class="text-gray-600 text-center mt-2">Convert Lottie animations to GIF format in seconds</p>
    </header>
    
    <!-- Main content -->
    <main class="grid md:grid-cols-2 gap-6">
      <!-- Upload section -->
      <section class="bg-white rounded-lg shadow-md p-6">
        <h2 class="text-lg font-semibold mb-4">Upload Lottie JSON</h2>
        
        <div class="upload-area flex flex-col items-center justify-center border-2 border-dashed border-gray-300 rounded-lg p-8 hover:border-indigo-400 transition-colors cursor-pointer">
          <input type="file" id="fileInput" class="hidden" accept=".json">
          
          <div id="uploadIcon" class="text-indigo-500 mb-3">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" />
            </svg>
          </div>
          
          <div id="processingIcon" class="hidden animate-spin text-indigo-500 mb-3">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15" />
            </svg>
          </div>
          
          <p class="text-gray-700 font-medium">Drag & drop or click to upload</p>
          <p class="text-gray-500 text-sm mt-1">Accepts Lottie JSON files</p>
        </div>
        
        <div class="mt-4">
          <div class="flex items-center mb-2">
            <span class="text-sm font-medium text-gray-700 mr-2">Quality:</span>
            <input type="range" id="qualitySlider" min="1" max="20" value="10" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
          </div>
          <div class="flex justify-between text-xs text-gray-500">
            <span>Lower</span>
            <span>Higher</span>
          </div>
        </div>
      </section>
      
      <!-- Preview section -->
      <section class="bg-white rounded-lg shadow-md p-6">
        <h2 class="text-lg font-semibold mb-4">Preview</h2>
        <div id="previewContainer" class="flex items-center justify-center border border-gray-200 rounded-lg h-48 bg-gray-50">
          <p class="text-gray-400">Animation preview will appear here</p>
        </div>
        
        <div class="mt-4 flex justify-end">
          <button id="convertBtn" class="bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed" disabled>
            Convert to GIF
          </button>
        </div>
      </section>
    </main>
    
    <!-- History section -->
    <section class="mt-8 bg-white rounded-lg shadow-md p-6">
      <h2 class="text-lg font-semibold mb-4">Conversion History</h2>
      
      <div id="historyEmpty" class="text-center py-8 text-gray-500">
        <p>No conversion history yet</p>
      </div>
      
      <div id="historyList" class="hidden space-y-3">
        <!-- History items will be added here dynamically -->
      </div>
    </section>
    
    <!-- Features section -->
    <section class="mt-8">
      <h2 class="text-2xl font-bold text-center mb-6">Why Choose Lottie2GIF?</h2>
      
      <div class="grid md:grid-cols-3 gap-6">
        <div class="bg-white p-5 rounded-lg shadow-md">
          <div class="text-indigo-500 mb-3">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
            </svg>
          </div>
          <h3 class="font-semibold text-lg mb-2">Fast & Efficient</h3>
          <p class="text-gray-600">Convert Lottie animations to GIF format in seconds with optimized processing.</p>
        </div>
        
        <div class="bg-white p-5 rounded-lg shadow-md">
          <div class="text-indigo-500 mb-3">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z" />
            </svg>
          </div>
          <h3 class="font-semibold text-lg mb-2">100% Private</h3>
          <p class="text-gray-600">All processing happens in your browser. No files are uploaded to any server.</p>
        </div>
        
        <div class="bg-white p-5 rounded-lg shadow-md">
          <div class="text-indigo-500 mb-3">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z" />
            </svg>
          </div>
          <h3 class="font-semibold text-lg mb-2">Easy to Use</h3>
          <p class="text-gray-600">Simple interface with drag and drop support. No technical skills required.</p>
        </div>
      </div>
    </section>
    
    <!-- FAQ Section -->
    <section class="mt-8 bg-white rounded-lg shadow-md p-6">
      <h2 class="text-2xl font-bold mb-6">Frequently Asked Questions</h2>
      
      <div class="space-y-4">
        <div>
          <h3 class="font-semibold text-lg">What is a Lottie animation?</h3>
          <p class="text-gray-600 mt-1">Lottie is a JSON-based animation file format that enables designers to ship animations on any platform as easily as shipping static assets.</p>
        </div>
        
        <div>
          <h3 class="font-semibold text-lg">Why convert Lottie to GIF?</h3>
          <p class="text-gray-600 mt-1">While Lottie offers superior quality and smaller file sizes, GIF format is more widely supported across platforms and applications where JavaScript isn't available.</p>
        </div>
        
        <div>
          <h3 class="font-semibold text-lg">Is there a file size limit?</h3>
          <p class="text-gray-600 mt-1">Since all processing happens in your browser, the only limitation is your device's memory. For optimal performance, we recommend files under 5MB.</p>
        </div>
      </div>
    </section>
  </div>
  
  <footer class="bg-gray-800 text-white mt-12 py-6">
    <div class="max-w-4xl mx-auto px-4">
      <div class="flex flex-col md:flex-row justify-between items-center">
        <div class="mb-4 md:mb-0">
          <h2 class="text-xl font-bold">Lottie2GIF</h2>
          <p class="text-gray-400">Convert Lottie animations to GIF with ease</p>
        </div>
        
        <div class="flex space-x-4">
          <a href="https://github.com/lilas-dev/lottie2gif" class="text-gray-400 hover:text-white transition-colors">
            <span class="sr-only">GitHub</span>
            <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
              <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd" />
            </svg>
          </a>
        </div>
      </div>
      
      <div class="mt-4 pt-4 border-t border-gray-700 text-gray-400 text-sm text-center">
        <p>&copy; 2025 Lottie2GIF. All rights reserved.</p>
      </div>
    </div>
  </footer>

   <script type="module">
      import lottieWeb from "https://cdn.skypack.dev/lottie-web";

      // DOM elements
      const fileInput = document.getElementById("fileInput");
      const uploadArea = document.querySelector(".upload-area");
      const uploadIcon = document.getElementById("uploadIcon");
      const processingIcon = document.getElementById("processingIcon");
      const previewContainer = document.getElementById("previewContainer");
      const convertBtn = document.getElementById("convertBtn");
      const qualitySlider = document.getElementById("qualitySlider");
      const historyEmpty = document.getElementById("historyEmpty");
      const historyList = document.getElementById("historyList");

      // Canvas for GIF generation
      const canvasElement = document.createElement("canvas");
      const ctx = canvasElement.getContext("2d");

      // Current animation data
      let currentAnimationData = null;
      let currentAnimationName = "";
      let lottieInstance = null;

      // History storage
      const conversionHistory = [];
      updateHistoryUI();

      // Event listeners
      uploadArea.addEventListener("click", () => fileInput.click());
      uploadArea.addEventListener("dragover", (e) => {
        e.preventDefault();
        uploadArea.classList.add("border-indigo-500");
      });

      uploadArea.addEventListener("dragleave", () => {
        uploadArea.classList.remove("border-indigo-500");
      });

      uploadArea.addEventListener("drop", (e) => {
        e.preventDefault();
        uploadArea.classList.remove("border-indigo-500");

        if (e.dataTransfer.files.length) {
          handleFile(e.dataTransfer.files[0]);
        }
      });

      fileInput.addEventListener("change", (e) => {
        if (e.target.files.length) {
          handleFile(e.target.files[0]);
        }
      });

      convertBtn.addEventListener("click", () => {
        if (currentAnimationData) {
          convertToGif(currentAnimationData);
        }
      });

      // Handle file upload
      async function handleFile(file) {
        if (!file.name.endsWith(".json")) {
          alert("Please upload a valid Lottie JSON file");
          return;
        }

        try {
          // Show processing state
          uploadIcon.classList.add("hidden");
          processingIcon.classList.remove("hidden");

          // Read and parse file
          const json = await file.text();
          currentAnimationData = JSON.parse(json);
          currentAnimationName = file.name.replace(".json", "");

          // Preview the animation
          previewAnimation(currentAnimationData);

          // Enable convert button
          convertBtn.disabled = false;

          // Reset upload area
          uploadIcon.classList.remove("hidden");
          processingIcon.classList.add("hidden");
        } catch (error) {
          alert("Error processing file: " + error.message);
          uploadIcon.classList.remove("hidden");
          processingIcon.classList.add("hidden");
        }
      }

      // Preview animation
      function previewAnimation(animationData) {
        // Clear previous animation
        if (lottieInstance) {
          lottieInstance.destroy();
        }

        // Clear preview container
        previewContainer.innerHTML = "";

        // Create animation container
        const animContainer = document.createElement("div");
        animContainer.style.width = "100%";
        animContainer.style.height = "100%";
        previewContainer.appendChild(animContainer);

        // Load animation
        lottieInstance = lottieWeb.loadAnimation({
          container: animContainer,
          renderer: "svg",
          loop: true,
          autoplay: true,
          animationData: animationData,
        });
      }

      // Convert to GIF
      function convertToGif(animationData) {
        // Show processing state
        convertBtn.disabled = true;
        convertBtn.textContent = "Processing...";

        // Set up canvas
        canvasElement.width = animationData.w;
        canvasElement.height = animationData.h;

        // Configure Lottie
        const lottie = lottieWeb.loadAnimation({
          renderer: "canvas",
          loop: false,
          autoplay: false,
          animationData: animationData,
          rendererSettings: {
            context: ctx,
            clearCanvas: true,
          },
        });

        // Configure GIF encoder
        const gif = new GIF({
          workers: 4,
          quality: parseInt(qualitySlider.value),
          width: animationData.w,
          height: animationData.h,
          workerScript: "./vendor/gif.worker.js",
          transparent: "rgba(0,0,0,0)",
        });

        // Add frames
        const delay = (1 / lottie.frameRate) * 1000;
        const totalFrames = lottie.totalFrames;

        // Process frames
        processFrames(lottie, gif, 0, totalFrames, delay);
      }

      // Process frames recursively to avoid UI blocking
      function processFrames(lottie, gif, currentFrame, totalFrames, delay) {
        if (currentFrame >= totalFrames) {
          // Finish processing
          finishGif(gif);
          return;
        }

        // Update progress
        const progress = Math.round((currentFrame / totalFrames) * 100);
        convertBtn.textContent = `Processing ${progress}%`;

        // Add current frame
        lottie.goToAndStop(currentFrame, true);
        gif.addFrame(ctx, { delay, copy: true });

        // Process next frame
        setTimeout(() => {
          processFrames(lottie, gif, currentFrame + 1, totalFrames, delay);
        }, 0);
      }

      // Finish GIF creation
      function finishGif(gif) {
        gif.on("finished", function (blob) {
          // Create download URL
          const url = URL.createObjectURL(blob);

          // Add to history
          addToHistory({
            name: currentAnimationName,
            date: new Date().toISOString(),
            url: url,
            size: formatBytes(blob.size),
          });

          // Open in new tab
          window.open(url);

          // Reset button
          convertBtn.disabled = false;
          convertBtn.textContent = "Convert to GIF";
        });

        gif.render();
      }

      // Add conversion to history
      function addToHistory(item) {
        // Add to front of array
        conversionHistory.unshift(item);

        // Keep only last 10 items
        if (conversionHistory.length > 10) {
          conversionHistory.pop();
        }

        // Update UI
        updateHistoryUI();
      }

      // Update history UI
      function updateHistoryUI() {
        if (conversionHistory.length === 0) {
          historyEmpty.classList.remove("hidden");
          historyList.classList.add("hidden");
          return;
        }

        // Show history list
        historyEmpty.classList.add("hidden");
        historyList.classList.remove("hidden");

        // Clear list
        historyList.innerHTML = "";

        // Add items
        conversionHistory.forEach((item) => {
          const historyItem = document.createElement("div");
          historyItem.className =
            "flex items-center justify-between p-3 border border-gray-200 rounded-lg hover:bg-gray-50";

          const date = new Date(item.date);
          const formattedDate =
            date.toLocaleDateString() + " " + date.toLocaleTimeString();

          historyItem.innerHTML = `
          <div>
            <h3 class="font-medium">${item.name}</h3>
            <p class="text-sm text-gray-500">${formattedDate} • ${item.size}</p>
          </div>
          <a href="${item.url}" download="${item.name}.gif" class="text-indigo-600 hover:text-indigo-800">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z" clip-rule="evenodd" />
            </svg>
          </a>
        `;

          historyList.appendChild(historyItem);
        });
      }

      // Helper function to format bytes
      function formatBytes(bytes, decimals = 2) {
        if (bytes === 0) return "0 Bytes";

        const k = 1024;
        const dm = decimals < 0 ? 0 : decimals;
        const sizes = ["Bytes", "KB", "MB", "GB"];

        const i = Math.floor(Math.log(bytes) / Math.log(k));

        return (
          parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + " " + sizes[i]
        );
      }
    </script>
  </body>
</html>